openapi: 3.0.0
info:
  title: Weather Forecast API
  description: API for retrieving weather forecasts for various locations.
  version: 1.0.0
  termsOfService: http://example.com/terms/
  contact:
    name: API Support
    url: http://www.example.com/support
    email: support@example.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
servers:
  - url: https://api.weatherexample.com/v1
    description: Main (production) server
  - url: https://staging-api.weatherexample.com/v1
    description: Staging server
tags:
  - name: Weather
    description: Operations related to weather forecasts

paths:
  /forecast:
    get:
      tags:
        - Weather
      summary: Get weather forecast
      description: Retrieve the weather forecast for a specific location.
      operationId: getWeatherForecast
      parameters:
        - name: location
          in: query
          required: true
          description: The location to get the weather forecast for.
          schema:
            type: string
            example: "New York, NY"
        - name: date
          in: query
          required: false
          description: The date to get the weather forecast for (optional, defaults to current date).
          schema:
            type: string
            format: date
            example: "2024-07-05"
      responses:
        '200':
          description: Weather forecast retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  location:
                    type: string
                    description: The location for the weather forecast
                    example: "New York, NY"
                  date:
                    type: string
                    format: date
                    description: The date of the weather forecast
                    example: "2024-07-05"
                  temperature:
                    type: object
                    properties:
                      min:
                        type: number
                        format: float
                        description: Minimum temperature in Celsius
                        example: 20.5
                      max:
                        type: number
                        format: float
                        description: Maximum temperature in Celsius
                        example: 30.0
                  conditions:
                    type: string
                    description: Weather conditions
                    example: "Sunny"
                  humidity:
                    type: number
                    format: float
                    description: Humidity percentage
                    example: 60
                  wind_speed:
                    type: number
                    format: float
                    description: Wind speed in km/h
                    example: 15.0
              examples:
                sunnyDay:
                  summary: Sunny Day
                  value:
                    location: "New York, NY"
                    date: "2024-07-05"
                    temperature:
                      min: 20.5
                      max: 30.0
                    conditions: "Sunny"
                    humidity: 60
                    wind_speed: 15.0
                rainyDay:
                  summary: Rainy Day
                  value:
                    location: "Seattle, WA"
                    date: "2024-07-05"
                    temperature:
                      min: 15.0
                      max: 20.0
                    conditions: "Rainy"
                    humidity: 80
                    wind_speed: 10.0
                snowyDay:
                  summary: Snowy Day
                  value:
                    location: "Denver, CO"
                    date: "2024-12-25"
                    temperature:
                      min: -5.0
                      max: 0.0
                    conditions: "Snowy"
                    humidity: 70
                    wind_speed: 5.0
        '400':
          description: Invalid input
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Error message
                    example: "Invalid location or date format"
              examples:
                invalidLocation:
                  summary: Invalid Location
                  value:
                    error: "Location is required and must be a valid city"
                invalidDate:
                  summary: Invalid Date
                  value:
                    error: "Date must be in the format YYYY-MM-DD"
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Error message
                    example: "Internal server error"
              examples:
                serverError:
                  summary: Generic Server Error
                  value:
                    error: "Internal server error"

components:
  schemas:
    WeatherForecast:
      type: object
      properties:
        location:
          type: string
          description: The location for the weather forecast
          example: "New York, NY"
        date:
          type: string
          format: date
          description: The date of the weather forecast
          example: "2024-07-05"
        temperature:
          type: object
          properties:
            min:
              type: number
              format: float
              description: Minimum temperature in Celsius
              example: 20.5
            max:
              type: number
              format: float
              description: Maximum temperature in Celsius
              example: 30.0
        conditions:
          type: string
          description: Weather conditions
          example: "Sunny"
        humidity:
          type: number
          format: float
          description: Humidity percentage
          example: 60
        wind_speed:
          type: number
          format: float
          description: Wind speed in km/h
          example: 15.0
